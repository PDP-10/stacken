	TITLE	LODPQ1
	SUBTTL	PROGRAM TO SIMULATE PQ1 JOB
	SEARCH	LODUNV

LODPQ1:	DEFINT			;INITIALIZE
LOOP:	PUSHJ	P,RANCOR	;CHANGE CORE SIZE
	PUSHJ	P,EXPSLP	;DO EXPONENTIAL SLEEP
	PUSHJ	P,EXPCPU	;DO EXPONENTIAL CPU LOOP
	PUSHJ	P,TESTEX	;SEE IF TIME TO QUIT
	JRST	LOOP

	DEFALL
	DEFCOR
	DEXSLP
	DEXCPU
	DEXRAN

ERRSLP:	EXP	^D10		;SECONDS TO SLEEP ON ERROR
CORCNT:	EXP	^D10		;HOW OFTEN TO CHANGE CORE
CORRNG:	EXP	35.0		;CORE RANGE
CORBAS:	EXP	0.0		;BASE CORE SIZE
SLPRNX:	EXP	6.0		;AVERAGE OF 6 SECOND SLEEP
SLPMAX:	EXP	60.0		;MAX 60 SECOND SLEEP
CPURNX:	EXP	0.1		;AVERAGE 6 TICK CPU LOOP
CPUMAX:	EXP	1.0		;MAX CPU LOOP IS 1 SECOND

	END	LODPQ1
