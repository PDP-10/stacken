TITLE	10KIMP	VERSION 3	
SUBTTL	COMP10 IMPURE AREA		CWRU/CAM

EDIT==6
VERSION==XWD 300,EDIT

;COPYRIGHT 1971, DIGITAL EQUIPMENT CORP., MAYNARD, MASS.


LOC	137
	VERSION
RELOC
	ENTRY	HEADSW,ASTRFL,TSW
	ENTRY ZOP
	BSIZE=^D3500
	ENTRY	PUSHST,OLDPNT,OLDNUM
PUSHST:	BLOCK	16
	IFNDEF BSIZE,<BSIZE=1000>
	ENTRY	CRPERR,GLTBL
CRPERR:	5
GLTBL:	LBUFP2
	[ENDP-1]
	ENTRY	SAVFFX
	ENTRY	OUTDEV,PPSET,ERRCNT,TOP,TOP1,TOP2
	ENTRY	LBUFP,LBUFP1,LBUFP2,P1,P2,SAVEXS,TEMP
	ENTRY	RTNTMP,WCADR,HIGH,ROOM,GETCNT,GETFIL
	ENTRY	NUMTMP,TEMPF1,TEMPF2,LINEND,LSTCH,SAVEC,SAVNO2
	ENTRY	LINCNT,SAVNO,LINENO,BUFF1,BUFF2,ENDP,NUMLIN
	ENTRY	TUMP
	ENTRY	LINEN0
OUTDEV:	BLOCK 	1
	PPSET:	BLOCK	20
OLDNUM:	BLOCK	2
OLDPNT:	BLOCK	2
 SAVFFX:	0

LASPNT:	BLOCK	2
ERRCNT:	BLOCK	1


TOP:		;CONTAINS # LINES ACTUALLY STORED IN BUFFER
	TOP1:	BLOCK	1
TOP2:	BLOCK	1
LBUFP:
LBUFP1:	BLOCK	1
LBUFP2:	BLOCK	1

P1:	BLOCK	1
P2:	BLOCK	1


SAVEXS:	BLOCK	17

TUMP:	BLOCK	1
RTNTMP:	BLOCK	1	;RETURN ADDRESS FOR "MULTI" SUBROUTINE
WCADR:	BLOCK 1		;TEMP IN GLINE SUBROUTINE
HIGH:	BLOCK	1	;USED BY NOROOM
ROOM:	BLOCK	1	;USED BY "NOROOM"
GETCNT:	BLOCK	1	;# LINES (-1) "GETTWO" GOT
GETFIL:	BLOCK	1	;# OF FILE FROM WHICH "GETTWO" GOT LINE (.L. 0 IF NONE)
NUMTMP:	BLOCK	1		;TEMP FOR NUMLIN
TEMPF1:	BLOCK	1		;TEMP FOR F1
TEMPF2:	BLOCK	1		;TEMP FOR F2
LINEND:	1
LSTCH:	BLOCK 3
SAVEC:	0
SAVNO2:	0
LINCNT:	0
SAVNO:	0
LINEN0:	BLOCK	3
	BUFF1:	BLOCK	BSIZE
BUFF2:	BLOCK	BSIZE

ENDP:
NUMLIN:	BLOCK	1
	ENTRY	P6WORD
	ENTRY	PTRS.
	ENTRY	SFF1,LOGIPT,SCHAR
	ENTRY	CMDDDB
	ENTRY	LOGSPC,MRGSPC,LSTSPC
	ENTRY	CMDSPC
	ENTRY	USPEC
	ENTRY	BSPEC
	ENTRY	UCSPEC
	ENTRY	MCSPEC
	ENTRY	SAVFF
	ENTRY	FED
	ENTRY	ATFLAG
	ENTRY	CRLF
	ENTRY	CRLFBF
	ENTRY	LAST.
	ENTRY	LSTOP
	ENTRY	CAMOPT
	ENTRY	CONFLA
	ENTRY	INCOPT
	ENTRY	ID.CNT
	ENTRY	MATQUO
	ENTRY	SAVAC2
	ENTRY	COMPOP
	ENTRY	DIASW
	ENTRY	SFMODE
	ENTRY	BASIPT
	ENTRY	USEIPT
	ENTRY	BADDB
	ENTRY	BASDDB
	ENTRY	USDDB
	ENTRY	USEDDB
	ENTRY	ID.
	ENTRY	NUMBF2
	ENTRY	NUMBUF
	ENTRY	SAVEPP
	ENTRY	STATE.
	ENTRY	PDL
	ENTRY	PPROGW
	ENTRY	OLDCNT
	ENTRY	COMCNT
	ENTRY	LISTB
	ENTRY	OPTION
	ENTRY	COMBUF
	ENTRY	LSTTY
	ENTRY	LOGTTY
	ENTRY	SIXCNT
	ENTRY	SIXBUF
	ENTRY	SIXPTR
	ENTRY	SEVPTR
	ENTRY	SAVACS
	ENTRY	SQVE2
	ENTRY	LSTBKS
	ENTRY	LSTRET
	ENTRY	PTRLST
	ENTRY	MRET
	ENTRY	PTRMRG
	ENTRY	SQVE1
	ENTRY	LRET
	ENTRY	PTRLG
	ENTRY	BLOCKS
	ENTRY	MCIPT
	ENTRY	LOGOPT
	ENTRY	SAVEXX
	ENTRY	MRGIPT
	ENTRY	MRGOPT
	ENTRY	LSTOPT
	ENTRY	LSTIPT
		ENTRY	UCDDB
	ENTRY	UCIPTF
	ENTRY	UCIPT
	ENTRY	LSTDDB
	ENTRY	MRGDDB
	ENTRY	LOGDDB
	ENTRY	MCDDB
	ENTRY	SAVE16
	ENTRY	FIRST.
	ENTRY	PRTOPT
	ENTRY	CMDIPTF
	ENTRY	XSW,BASCLN,BPAGNO
BASCLN:	BLOCK	1		;ASCII LINE NO. FROM BASE FILE
	EXP	0
BPAGNO: BLOCK	1		;PAGE NUMBER FROM BASE FILE.
XSW:	BLOCK	1		;ON IF /X IS TYPED (USED BY FED)
CMDDDB:	BLOCK	7
CMDIPTF:	BLOCK	3
FIRST.:
P6WORD:	0
SCHAR:	0
SFF1:	0
LOGIPT:	0
SAVE16:	0
MRGDDB:	BLOCK	7
MRGOPT:	BLOCK	3
MRGIPT:	BLOCK	3
SAVEXX:	0
BLOCKS:	0
PTRLG:	0
LRET:	0
SQVE1:	0
PTRMRG:	0
MRET:	0
PTRLST:	0
LSTRET:	0
LSTBKS:	0
SQVE2:	0
SAVACS:	BLOCK	20
SEVPTR:	0
SIXPTR:	0
SIXBUF:	BLOCK	2
SIXCNT:	0
LOGTTY:	0
LSTTY:	0


COMBUF:	BLOCK	50
OPTION:	BLOCK	5
ASTRFL:TSW:HEADSW:	0
ZOP:	0
LISTB:	BLOCK	5
COMCNT:	0
OLDCNT:	0
	PPROGW:	0
PDL:	BLOCK	5
STATE.:	0
	SAVEPP:	0
NUMBUF:	BLOCK	3
NUMBF2:	BLOCK	3
	BYTE	(7)54,11,11,11,11
ID.:	0
USEDDB:USDDB:	BLOCK	7
BASDDB:BADDB:	BLOCK	7
USEIPT:	BLOCK	7
BASIPT:	BLOCK	7
SFMODE:	0
DIASW:	0
COMPOP:	0
SAVAC2:	BLOCK	20
MATQUO:	0
ID.CNT:	0
INCOPT:	0
CONFLA:	0
CAMOPT:	0
LSTOP:	0
LAST.:	0
PRTOPT:	BLOCK	1
PTRS.:	POINT	7,NUMBUF-1,35
	POINT	7,ID.-2,35
	POINT	7,CRLFBF-1,35
	POINT	7,@LBUFP2,35
	POINT	7,NUMBF2-1,35
CRLFBF:CRLF:	ASCIZ/
/
ATFLAG:	0
FED:	0
SAVFF:	0
BSPEC:	0
	0
	XWD	0,BASIPT
USPEC:	0
	0
	XWD	0,USEIPT
CMDSPC:	0
	0
	XWD	0,CMDIPT
LOGSPC:	0
	0
	XWD	LOGOPT,0
MRGSPC:	0
	0
	XWD	MRGOPT,MRGIPT
LINENO:LOGDDB:LOGOPT:LSTDDB:LSTIPT:LSTOPT:LSTSPC:MCDDB:MCIPT:MCSPEC:TEMP:UCDDB:UCIPT:UCIPTF:UCSPEC:BLOCK	20
	END;
