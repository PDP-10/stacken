;BASTST.CTL  %012   BATCH JOB THAT CREATES AND RUNS BASTST.SCP WHICH
;RUNS A SAMPLE PROGRAM IN BASIC.
;	SUBMIT BASTST/TIME:400,/DIS:DEL
;BASTST IS USUALLY RUN BY MONTST.CTL
;SML		4 AUG 77   SM LIBMAN
;
.GOTO SKIP
SCP::
!;;BASTST.SCP  SCRIPT FOR BASIC/KK/PFC/PW/SML   4 AUG 77  %012
!;;FOR 602 OR LATER MONITOR
!;;TO SET PTY RATES TO SIMULATE TTY !-300I -100O
!;;TO SET DELAY TO SIMULATE REAL USER !5000F 3000R
!;;FOR MONTST RUN AS FAST AS POSSIBLE
!IORFST
LOGIN
4,777#
!Q
TEST#
!XIN
!V
!;;TRY TO RUN VIRTUALLY
!Q
R SETVM
DELETE *.*
!;;CHECK VERSION NUMBERS
GET SYS:BASIC
VERSION
GET SYS:PIP
VERSION
R BASIC
NEW
CHEM
10D 4
20D 25755.5
30D 30641
40D 28037.5
50D 23684.5
60D 0
70D 0
80D 0
90D 0
100D 0
110D 0
120D 0
130D 0
140D 1564570
150D 1862900
160D 1701590
170D 37686894
180D 0
190D 0
200D 0
210D 0
220D 0
230D 0
240D 0
250D 0
260D 0
270D 0
280D 0
290D 0
300D 0
310D 0
320D 1178.09
330D 1386.21
340D 1275.14
350D 1135.79
360D 0
370D 0
380D 0
390D 0
400D 0
410D 0
420D 0
430D 0
440D 3281.69
450D 3818.71
460D 3525.22
470D 84824.8
480D 0
490D 0
500D 0
510D 0
520D 0
530D 0
540D 0
550D 0
560D 0
570D 0
580D 0
590D 0
600D 0
610D 0
620D 62.9911
630D 78.314
640D 62.8491
650D 101.27
660D 0
670D 0
680D 0
690D 0
700D 0
710D 0
720D 0
730D 0
740D 10.7966
750D 15.4711
760D 8.66285
770D 3561.94
780D 0
790D 0
800D 0
810D 0
820D 0
830D 0
840D 0
850D 0
860D 0
870D 0
880D 0
890D 0
900D 0
910D 0
920D 424
930D 504
940D 462
950D 292
960D 0
970D 0
980D 0
990D 0
1000D 0
1010D 0
1020D 0
1030D 0
LIS
SAVE
NEW
PCHEM
10 DIM C(110),B(10),A(10),E$(15)
12 FOR I=1 TO 12
14 READ E$(I)
15 NEXT I
20 FILES CHEM
30 READ #1,N
40 FOR I=1 TO 102
50 READ #1,C(I)
60 NEXT I
70 PRINT "DATA(1) OR INQUIRY(2)"
80 INPUT X
90 IF X=2 THEN 440
100 IF X=1 THEN 130
110 PRINT "NO SUCH MODE"
120 GO TO 70
130 PRINT "MONTH(1-12)"
140 INPUT K
150 IF K=N THEN 290
160 IF K=N+1 THEN 220
170 PRINT "IMPROPER MONTH ENTRY"
180 PRINT "MAY ENTER DATA ONLY FOR MONTH";N
190 LET X=N+1
200 PRINT "OR IF THIS IS THE FIRST DAY OF MONTH";X
210 GO TO 130
220 LET N=N+1
230 FOR I=1 TO 3
240 LET J=30*(I-1)+K
250 LET C(J)=0
260 LET C(J+12)=0
270 NEXT I
280 LET C(90+K)=0
290 FOR L=1 TO 2
300 PRINT "ENTER CAREFULLY; %CU, %PB, %FE"
310 INPUT A(1),A(2),A(3)
320 FOR I=1 TO 3
330 LET J=30*(I-1)+K
340 LET C(J)=C(J)+A(I)
350 LET C(J+12)=C(J+12)+A(I)**2
360 NEXT I
370 LET C(90+K)=C(90+K)+1
380 NEXT L
390 PRINT "AGAIN"
400 INPUT Z$
410 PRINT
420 IF Z$="YES" THEN 70
430 GO TO 1080
440 PRINT
450 PRINT "FROM THE LAST 12 MONTHS; INPUT X,Y WHERE"
460 PRINT "X THROUGH Y ARE THE MONTHS OF INQUIRY"
470 INPUT X,Y
472 PRINT
473 PRINT
480 IF X>Y THEN 560
490 FOR F=X TO Y
492 PRINT E$(F)
500 GO SUB 1030
510 GO SUB 960
520 GO SUB 790
530 NEXT F
540 IF X=Y THEN 390
550 GO TO 670
560 FOR F=X TO 12
562 PRINT E$(F)
570 GO SUB 1030
580 GO SUB 960
590 GO SUB 790
600 NEXT F
610 FOR F=1 TO Y
612 PRINT E$(F)
620 GO SUB 1030
630 GO SUB 960
640 GO SUB 790
650 NEXT F
660 GO SUB 1030
670 IF X>Y THEN 720
680 FOR F=X TO Y
690 GO SUB 960
700 NEXT F
702 PRINT "ALL MONTHS";X;"THROUGH";Y
710 GO SUB 790
712 GO TO 390
720 FOR F=X TO 12
730 GO SUB 960
740 NEXT F
750 FOR F=1 TO Y
760 GO SUB 960
770 NEXT F
772 PRINT "ALL MONTHS";X;"THROUGH";Y
780 GO SUB 790
782 GO TO 390
790 FOR I=1 TO 3
800 LET M(I)=B(2*I-1)/D
810 LET S(I)=SQR((D*B(2*I)-B(2*I-1)**2)/(D*(D-1)))
820 NEXT I
840 PRINT
870 PRINT "MEAN";TAB(10);"STND. DEVIATION"
880 PRINT "%CU"
890 PRINT M(1);TAB(14);S(1)
900 PRINT "%PB"
910 PRINT M(2);TAB(14);S(2)
920 PRINT "%FE"
930 PRINT M(3);TAB(14);S(3)
940 PRINT
945 PRINT
950 RETURN 
960 FOR I=1 TO 3
970 LET J=30*(I-1)+F
980 LET B(2*I-1)=B(2*I-1)+C(J)
990 LET B(2*I)=B(2*I)+C(J+12)
1000 NEXT I
1010 LET D=D+C(90+F)
1020 RETURN
1030 FOR I=1 TO 6
1040 LET B(I)=0
1050 NEXT I
1060 LET D=0
1070 RETURN
1080 SCRATCH #1
1090 WRITE #1,N
1100 FOR I=1 TO 102
1110 WRITE #1,C(I)
1120 NEXT I
1121 DATA JANUARY,FEBRUARY,MARCH,APRIL,MAY,JUNE
1122 DATA JULY,AUGUST,SEPTEMBER,OCTOBER,NOVEMBER,DECEMBER
1130 END
SAVE
!1Q
SAVE
CAT
REPLACE
RUNNH
2
1
2

!1Q
N
CAT
UNS CHEM
UNS PCHEM
SYSTEM
DELETE *.*
KJOB/D/D
!XOUT
SKIP::
;RUN VIRTUALLY IF WE CAN
.R SETVM
.IF (ERROR)  ;IGNORE
.R TECO
=ERBASTST.CTL
*_SCP::
=0,.K
=EWBASTST.SCP
=NSKIP::0L
=.,ZKPWEF
;
;SCRIPT FILE COMPLETE.  NOW, RUN THE SCRIPT, 3 JOBS, EACH JOB DOES
;A SAMPLE BASIC PROGRAM
;
.R SCRIPT
*BASTST
.CON
*3
*
*BASTST
*BASTST
*
*
*
*Y
*N
*Y
.IF (ERROR) .GOTO B
.PLEASE BASTST SUCCESSFUL
.DELETE BASTST.WCH
.GOTO A
B::
.PLEASE ERROR RUNNING BASTST.SCP
.QUEUE BASTST.WCH/DISPOSE:DELETE
A::
%FIN:
.NOERROR
.DELETE BASTST.SCP
